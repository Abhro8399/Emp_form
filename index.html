<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>Assignment</title>
  </head>

  <body>
    <h1 style="text-align: center;">Employee Details</h1>
    <div class="mx-auto" style="width: 700px;">
      <div class="row">
        <div class="col">
          <label for="empName" class="form-label">Name</label>
          <input
            type="text"
            class="form-control"
            id="empname"
            placeholder="Enter Your Name"
            required
          />
        </div>
        <div class="col">
          <label for="empAge" class="form-label">Year Of Birth</label>
          <input
            type="number"
            class="form-control"
            id="empage"
            placeholder="YYYY"
          />
        </div>
      </div>

      <br />

      <div class="row">
        <div class="dropdown col">
          <div>
            <label for="Country" class="form-label">Country</label>
          </div>
          <select
            class="btn dropdown-toggle"
            type="button"
            id="country"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            required
          >
          </select>
        </div>

        <div class="dropdown col">
          <div>
            <label for="State" class="form-label">State</label>
          </div>
          <select
            class="btn dropdown-toggle"
            type="button"
            id="state"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            required
            //onChange="success()"
          >
          </select>
        </div>
      </div>
      <br />

      <div style="text-align: center; margin-top: 1rem;">
        <input class="btn btn-primary" style="margin:10px;", id="save" type="submit" value="Submit" />
        <input class="btn btn-danger" style="margin:10px;", id="clearTable" type="submit" onclick="clearTable()" value="Clear Table" />
      </div>
      <table class="table table-bordered caption-top align-middle" id="table1">
        <caption>
          Employee Details
        </caption>
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Age</th>
            <th scope="col">Country</th>
            <th scope="col">State</th>
          </tr>
        </thead>
      </table>

      <table class="table table-bordered caption-top align-middle" id="table2">
        <caption>
          Employees Count By Country
        </caption>
        <thead>
          <tr>
            <th scope="col">Country</th>
            <th scope="col">No. Of Employees</th>
          </tr>
        </thead>
      </table>
    </div>
    
  </body>
  
  <! –– Variable declaration ––>
  <script>
    var country = [];
    var uniqueCountry = [];
    var rowno = 0;
  </script>

  <! –– Utility Files ––>
  <script src="utils.js" type="text/javascript"></script>
  
  <! –– Bootstrap ––>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  ></script>

  <! –– Selector  ––>
  <script>
    var stateObject = {
      None: {
        "": [""]
      },
      India: {
        Delhi: [""],
        Kerala: [""],
        Goa: [""]
      },
      Australia: {
        "South Australia": [""],
        Victoria: [""]
      },
      Canada: {
        Alberta: [""],
        Columbia: [""]
      }
    };

    window.onload = function () {
      var countySel = document.getElementById("country"),
        stateSel = document.getElementById("state");

      for (var country in stateObject) {
        countySel.options[countySel.options.length] = new Option(
          country,
          country
        );
      }
      countySel.onchange = function () {
        stateSel.length = 1; // remove all options bar first
        if (this.selectedIndex < 1) return; // done
        for (var state in stateObject[this.value]) {
          stateSel.options[stateSel.options.length] = new Option(state, state);
        }
      };
      countySel.onchange(); // reset in case page is reloaded
    };
  </script>
</html>
